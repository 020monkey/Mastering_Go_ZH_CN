#  **类型方法**

Go类型方法是带有特殊接收器参数的函数。将方法声明为普通函数，并在函数名前面显示一个附加参数。此特定参数将函数连接到该额外参数的类型。因此，该参数被称为方法的接收器。

下面的go代码表示在https://golang.org/src/os/file_plan9.go中找到的```Close()```函数的实现：

> ```
> func (f *File) Close() error {
>     if err := f.checkValid("close"); err != nil {
>         return err
>     }
>     return f.file.close()
> }
> ```

```Close()```函数是一个类型方法，因为它的名称前面和func关键字后面都有（f*file）参数。f参数被称为方法的接收者；在面向对象编程术语中，这个过程可以描述为向对象发送消息。在go中，方法的接收者是使用常规变量名定义的，通常使用单个字母，而不需要使用专用关键字，如this或self。

现在，让我们使用methods.go文件的go代码来回顾一个完整的示例，该文件将分四部分介绍。
methods.go的第一部分显示在以下go代码中：

> ```go
> package main
> 
> import (
>     "fmt"
> )
> 
> type twoInts struct {
>     X int64
>     Y int64
> }
> ```

在前面的go代码中，可以看到新结构的定义两个字段名为twoints。
methods.go的第二个代码段如下：

> ```go
> func regularFunction(a, b twoInts) twoInts {
>     temp := twoInts{X: a.X + b.X, Y: a.Y + b.Y}
>     return temp
> }
> ```

在本部分中，您定义了一个名为RegularFunction（）的新函数，它接受两个twoints类型的参数，并只返回一个twoints值。

The third part of the methods.go program contains the following Go code:
methods.go程序的第三部分包含以下go代码：

> ```go
> func (a twoInts) method(b twoInts) twoInts {
>     temp := twoInts{X: a.X + b.X, Y: a.Y + b.Y}
>     return temp
> }
> ```

method（）函数等效于methods.go前面部分定义的正则函数（）。但是，method（）函数是一个类型方法，您需要学习一种不同的方法，以便稍后调用它。

''' 这里真正有趣的是，method（）的实现与RegularFunction（）的实现完全相同。

methods.go的最后一个代码段如下：

> ```go
> func main() {
>     i := twoInts{X: 1, Y: 2}
>     j := twoInts{X: -5, Y: -2}
>     fmt.Println(regularFunction(i, j))
>     fmt.Println(i.method(j))
> }
> ```

如您所见，您调用类型方法（i.method（j））的方式是与传统函数（正则函数（i，j））的调用方式不同。

执行methods.go将创建以下输出：

> ```shell
> $ go run methods.go
> {-4 0}
> {-4 0}
> ```

注意，类型方法也与接口相关联，接口将成为下一节的主题。因此，稍后您将看到更多的类型方法。